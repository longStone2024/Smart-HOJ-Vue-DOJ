(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-157a1132"],{"07d5":function(t,e,i){"use strict";i.r(e);var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("el-card",{staticClass:"liquid-glass forced"},[i("div",{attrs:{slot:"header"},slot:"header"},[i("span",{staticClass:"panel-title home-title"},[t._v(t._s(t.$t("m.Training_List")))]),i("div",{staticClass:"filter-row"},[i("span",[i("vxe-input",{attrs:{placeholder:t.$t("m.Enter_keyword"),type:"search",size:"medium"},on:{"search-click":t.filterByKeyword},nativeOn:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.filterByKeyword(e)}},model:{value:t.keyword,callback:function(e){t.keyword=e},expression:"keyword"}})],1),i("span",[i("el-button",{attrs:{type:"primary",size:"small",icon:"el-icon-plus"},on:{click:t.goCreateTraining}},[t._v(t._s(t.$t("m.Create"))+" ")])],1)])]),i("vxe-table",{ref:"xTable",attrs:{loading:t.loading,data:t.trainingList,"auto-resize":"",stripe:"",align:"center"}},[i("vxe-table-column",{attrs:{field:"id",width:"80",title:"ID"}}),i("vxe-table-column",{attrs:{field:"rank",width:"80",title:t.$t("m.Order_Number")}}),i("vxe-table-column",{attrs:{field:"title","min-width":"150",title:t.$t("m.Title"),"show-overflow":""}}),i("vxe-table-column",{attrs:{title:t.$t("m.Auth"),width:"100"},scopedSlots:t._u([{key:"default",fn:function(e){var n=e.row;return[i("el-tag",{attrs:{type:t.TRAINING_TYPE[n.auth]["color"],effect:"dark"}},[t._v(" "+t._s(n.auth)+" ")])]}}])}),i("vxe-table-column",{attrs:{title:t.$t("m.Visible"),"min-width":"80"},scopedSlots:t._u([{key:"default",fn:function(e){var n=e.row;return[i("el-switch",{attrs:{disabled:!t.isSuperAdmin&&t.userInfo.username!=n.author},on:{change:function(e){return t.changeTrainingStatus(n.id,n.status,n.author)}},model:{value:n.status,callback:function(e){t.$set(n,"status",e)},expression:"row.status"}})]}}])}),i("vxe-table-column",{attrs:{"min-width":"210",title:t.$t("m.Info")},scopedSlots:t._u([{key:"default",fn:function(e){var n=e.row;return[i("p",[t._v("Created Time: "+t._s(t._f("localtime")(n.gmtCreate)))]),i("p",[t._v("Update Time: "+t._s(t._f("localtime")(n.gmtModified)))]),i("p",[t._v("Creator: "+t._s(n.author))])]}}])}),i("vxe-table-column",{attrs:{"min-width":"150",title:t.$t("m.Option")},scopedSlots:t._u([{key:"default",fn:function(e){var n=e.row;return[t.isSuperAdmin||t.userInfo.username==n.author?[i("div",{staticStyle:{"margin-bottom":"10px"}},[i("el-tooltip",{attrs:{effect:"dark",content:t.$t("m.Edit"),placement:"top"}},[i("el-button",{attrs:{icon:"el-icon-edit",size:"mini",type:"primary"},nativeOn:{click:function(e){return t.goEdit(n.id)}}})],1),i("el-tooltip",{attrs:{effect:"dark",content:t.$t("m.View_Training_Problem_List"),placement:"top"}},[i("el-button",{attrs:{icon:"el-icon-tickets",size:"mini",type:"success"},nativeOn:{click:function(e){return t.goTrainingProblemList(n.id)}}})],1)],1)]:t._e(),t.isSuperAdmin?i("el-tooltip",{attrs:{effect:"dark",content:t.$t("m.Delete"),placement:"top"}},[i("el-button",{attrs:{icon:"el-icon-delete",size:"mini",type:"danger"},nativeOn:{click:function(e){return t.deleteTraining(n.id)}}})],1):t._e()]}}])})],1),i("div",{staticClass:"panel-options"},[i("el-pagination",{staticClass:"page",attrs:{layout:"prev, pager, next","page-size":t.pageSize,total:t.total},on:{"current-change":t.currentChange}})],1)],1)],1)},a=[],r=i("5530"),s=i("3228"),o=i("9a36"),l=i("2f62"),c=i("7aa9"),u={name:"TrainingList",data:function(){return{pageSize:10,total:0,trainingList:[],keyword:"",loading:!1,excludeAdmin:!0,currentPage:1,currentId:1,downloadDialogVisible:!1,TRAINING_TYPE:{}}},mounted:function(){this.getTrainingList(this.currentPage),this.TRAINING_TYPE=Object.assign({},o["o"])},watch:{$route:function(){var t="true"==this.$route.query.refresh;t&&this.getTrainingList(1)}},computed:Object(r["a"])({},Object(l["c"])(["isSuperAdmin","userInfo"])),methods:{currentChange:function(t){this.currentPage=t,this.getTrainingList(t)},getTrainingList:function(t){var e=this;this.loading=!0,s["a"].admin_getTrainingList(t,this.pageSize,this.keyword).then((function(t){e.loading=!1,e.total=t.data.data.total,e.trainingList=t.data.data.records}),(function(t){e.loading=!1}))},goEdit:function(t){this.$router.push({name:"admin-edit-training",params:{trainingId:t}})},goTrainingProblemList:function(t){this.$router.push({name:"admin-training-problem-list",params:{trainingId:t}})},deleteTraining:function(t){var e=this;this.$confirm(this.$i18n.t("m.Delete_Training_Tips"),"Tips",{confirmButtonText:this.$i18n.t("m.OK"),cancelButtonText:this.$i18n.t("m.Cancel"),type:"warning"}).then((function(){s["a"].admin_deleteTraining(t).then((function(t){c["a"].success(e.$i18n.t("m.Delete_successfully")),e.currentChange(1)}))}))},changeTrainingStatus:function(t,e,i){var n=this;s["a"].admin_changeTrainingStatus(t,e,i).then((function(t){c["a"].success(n.$i18n.t("m.Update_Successfully"))}))},filterByKeyword:function(){this.currentChange(1)},goCreateTraining:function(){this.$router.push({name:"admin-create-training"})}}},d=u,m=(i("42ab"),i("2877")),f=Object(m["a"])(d,n,a,!1,null,"114cff04",null);e["default"]=f.exports},"42ab":function(t,e,i){"use strict";i("b76a")},b76a:function(t,e,i){}}]);